{"version":3,"sources":["app/scripts/index.jsx"],"names":[],"mappings":"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","file":"app/scripts/index.jsx","sourcesContent":["'use strict';\nvar PEER_API_KEY = 'qfsyx0jzn7xbhuxr';\n\nvar STATE = {\n  INITIAL: 0,\n  PRESENTING: 1,\n  WAITING_FOR_CALL: 2,\n}\n\nvar CALLS = {};\nconsole.log('k');\n$(document).ready(function() {\n\n  key('ctrl+tab', function() {\n    // @TODO(shrugs) - show list of friends\n    console.log('k');\n  });\n\n\n  var App = React.createClass({\n\n    getInitialState: function() {\n      return {\n        state: STATE.INITIAL,\n        room: 'Hack the Planet'\n      };\n    },\n\n    answerCall: function(call) {\n      call.answer();\n      call.on('stream', (remoteStream) => {\n        this.setState({\n          state: STATE.PRESENTING\n        })\n        var v = $('#video').get(0);\n        v.src = window.URL.createObjectURL(remoteStream);\n        v.play();\n      });\n      call.on('close', function() {\n        // remove from pending calls\n        delete CALLS[call.peer];\n      });\n    },\n\n    createRoom: function(e) {\n\n      console.log(this.state.room);\n      var peer = new Peer(this.state.room, {key: PEER_API_KEY});\n\n      peer.on('call', call => {\n\n        // add to pending calls\n        CALLS[call.peer] = call;\n        this.answerCall(call);\n      });\n\n      this.setState({\n        state: STATE.WAITING_FOR_CALL\n      });\n    },\n\n    roomChange: function(event) {\n      this.setState({\n        room: event.target.value\n      });\n    },\n\n    render: function() {\n\n      if (this.state.state === STATE.INITIAL) {\n\n        return (\n          <div>\n            <img id=\"logo\" src=\"images/logo.png\"></img>\n            <h1 className=\"diamond\">diamond</h1>\n\n            <form>\n              <div>\n                <label htmlFor=\"room\">\n                  <h2 style={{marginBottom: '6px'}}>Event</h2>\n                </label>\n                <input\n                  type=\"text\"\n                  defaultValue=\"Hack the Planet\"\n                  onChange={this.roomChange}\n                  ref=\"room\"\n                  name=\"room\">\n                </input>\n              </div>\n            </form>\n            <button href=\"#\" className=\"submit-button\" type=\"button\" onClick={this.createRoom}>\n              <h2 style={{marginTop: '5px'}}>\n                Step up!\n              </h2>\n            </button>\n          </div>\n        );\n      } else if (this.state.state === STATE.WAITING_FOR_CALL) {\n        return (\n          <div style={{textAlign: 'center', fontSize: '6vw'}}>\n            <h3>Join Room</h3>\n            <h1>{this.state.room}</h1>\n          </div>\n        );\n      } else if (this.state.state === STATE.PRESENTING) {\n        return (\n          <div></div>\n        );\n      }\n    }\n\n  });\n\n  React.render(<App></App>, document.getElementById('main'));\n});"]}