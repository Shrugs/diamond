{"version":3,"sources":["app/scripts/index.jsx"],"names":[],"mappings":"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","file":"app/scripts/index.jsx","sourcesContent":["'use strict';\nvar PEER_API_KEY = 'qfsyx0jzn7xbhuxr';\n\nvar STATE = {\n  INITIAL: 0,\n  PRESENTING: 1,\n  WAITING_FOR_CALL: 2,\n}\n\nvar CALLS = {};\nconsole.log('k');\n$(document).ready(function() {\n\n  key('ctrl+tab', function() {\n    // @TODO(shrugs) - show list of friends\n    console.log('k');\n  });\n\n\n  var App = React.createClass({\n\n    getInitialState: function() {\n      return {\n        state: STATE.INITIAL,\n        room: 'Hack the Planet'\n      };\n    },\n\n    answerCall: function(call) {\n      call.answer();\n      call.on('stream', function(remoteStream) {\n        // Show stream in some video/canvas element.\n        var v = this.refs.video;\n        this.setState({\n          videoSrc: window.URL.createObjectURL(remoteStream)\n        });\n        v.play();\n      });\n    },\n\n    createRoom: function(e) {\n\n      var peer = new Peer(this.state.room, {key: PEER_API_KEY});\n\n      peer.on('call', call => {\n\n        console.log('WHAT THJE FUCK');\n        // add to pending calls\n        CALLS[call.peer] = call;\n\n        this.setState({\n          state: STATE.PRESENTING\n        });\n        this.answerCall(call);\n\n        call.on('close', function() {\n          // remove from pending calls\n          delete CALLS[call.peer];\n        });\n      });\n\n      this.setState({\n        state: STATE.WAITING_FOR_CALL\n      });\n    },\n\n    inputChange: function(newValue) {\n      this.setState({\n        room: newValue\n      });\n    },\n\n    render: function() {\n\n      if (this.state.state === STATE.INITIAL) {\n\n        return (\n          <div>\n            <img id=\"logo\" src=\"images/logo.png\"></img>\n            <h1 className=\"diamond\">diamond</h1>\n\n            <form>\n              <div>\n                <label htmlFor=\"room\">\n                  <h2 style={{marginBottom: '6px'}}>Event</h2>\n                </label>\n                <input\n                  type=\"text\"\n                  defaultValue=\"Hack the Planet\"\n                  onChange={this.inputChange}\n                  ref=\"room\"\n                  name=\"room\">\n                </input>\n              </div>\n            </form>\n            <button href=\"#\" className=\"submit-button\" type=\"button\" onClick={this.createRoom}>\n              <h2 style={{marginTop: '5px'}}>\n                Step up!\n              </h2>\n            </button>\n          </div>\n        );\n      } else if (this.state.state === STATE.WAITING_FOR_CALL) {\n        return (\n          <div>\n            WAITING @TODO(shrugs) - Make this be like \"Join room {this.state.room}\"\n          </div>\n        );\n      } else if (this.state.state === STATE.PRESENTING) {\n        return (\n          <div>\n            <video ref=\"video\" src={this.state.videoSrc}></video>\n          </div>\n        );\n      }\n    }\n\n  });\n\n  React.render(<App></App>, document.getElementById('main'));\n});"]}